{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "$id": "https://ucp.dev/schemas/shopping/types/payment_instrument_base.json",
  "title": "Payment Instrument Base",
  "description": "Represents the base definition for a payment instrument. It utilizes a static reference (handler_name) to identify the handler type and a dynamic reference (handler_id) to link the instrument to a specific merchant configuration, while also defining standard fields such as the billing address.",
  "type": "object",
  "required": [
    "id",
    "handler_id",
    "handler_name",
    "type"
  ],
  "properties": {
    "id": {
      "type": "string",
      "description": "A unique identifier for this instrument instance, assigned by the Agent. Used to reference this specific instrument in the 'payment.selected_instrument_id' field."
    },
    "handler_id": {
      "type": "string",
      "description": "The unique identifier for the handler instance that produced this instrument."
    },
    "handler_name": {
      "type": "string",
      "description": "The name of the handler instance that produced this instrument. This corresponds to the 'name' field in the Payment Handler definition."
    },
    "type": {
      "type": "string",
      "description": "The broad category of the instrument (e.g., 'card', 'tokenized_card'). Specific schemas will constrain this to a constant value."
    },
    "billing_address": {
      "$ref": "postal_address.json",
      "description": "The billing address associated with this payment method."
    },
    "credential": {
      "$ref": "payment_credential.json"
    }
  }
}
