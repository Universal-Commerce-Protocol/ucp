<?xml version="1.0" encoding="utf-8" standalone="no"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 20010904//EN" "http://www.w3.org/TR/2001/REC-SVG-20010904/DTD/svg10.dtd"><svg xmlns="http://www.w3.org/2000/svg" width="1421" height="946" xmlns:xlink="http://www.w3.org/1999/xlink"><desc style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">Created with RaphaÃ«l 2.2.0</desc><defs style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"><path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path><marker id="raphael-marker-endblock55-obj25ik0" markerHeight="5" markerWidth="5" orient="auto" refX="2.5" refY="2.5" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"><use xlink:href="#raphael-marker-block" transform="rotate(180 2.5 2.5) scale(1,1)" stroke-width="1.0000" fill="#000" stroke="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></use></marker><marker id="raphael-marker-endblock55-objajfk8" markerHeight="5" markerWidth="5" orient="auto" refX="2.5" refY="2.5" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"><use xlink:href="#raphael-marker-block" transform="rotate(180 2.5 2.5) scale(1,1)" stroke-width="1.0000" fill="#000" stroke="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></use></marker><marker id="raphael-marker-endblock55-obj2bvpl" markerHeight="5" markerWidth="5" orient="auto" refX="2.5" refY="2.5" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"><use xlink:href="#raphael-marker-block" transform="rotate(180 2.5 2.5) scale(1,1)" stroke-width="1.0000" fill="#000" stroke="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></use></marker><marker id="raphael-marker-endblock55-obja6o4z" markerHeight="5" markerWidth="5" orient="auto" refX="2.5" refY="2.5" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"><use xlink:href="#raphael-marker-block" transform="rotate(180 2.5 2.5) scale(1,1)" stroke-width="1.0000" fill="#000" stroke="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></use></marker><marker id="raphael-marker-endblock55-objowe6l" markerHeight="5" markerWidth="5" orient="auto" refX="2.5" refY="2.5" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"><use xlink:href="#raphael-marker-block" transform="rotate(180 2.5 2.5) scale(1,1)" stroke-width="1.0000" fill="#000" stroke="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></use></marker><marker id="raphael-marker-endblock55-obj29cey" markerHeight="5" markerWidth="5" orient="auto" refX="2.5" refY="2.5" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"><use xlink:href="#raphael-marker-block" transform="rotate(180 2.5 2.5) scale(1,1)" stroke-width="1.0000" fill="#000" stroke="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></use></marker><marker id="raphael-marker-endblock55-objqu1nh" markerHeight="5" markerWidth="5" orient="auto" refX="2.5" refY="2.5" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"><use xlink:href="#raphael-marker-block" transform="rotate(180 2.5 2.5) scale(1,1)" stroke-width="1.0000" fill="#000" stroke="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></use></marker><marker id="raphael-marker-endblock55-obj5jsqp" markerHeight="5" markerWidth="5" orient="auto" refX="2.5" refY="2.5" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"><use xlink:href="#raphael-marker-block" transform="rotate(180 2.5 2.5) scale(1,1)" stroke-width="1.0000" fill="blue" stroke="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></use></marker><marker id="raphael-marker-endblock55-objx38xa" markerHeight="5" markerWidth="5" orient="auto" refX="2.5" refY="2.5" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"><use xlink:href="#raphael-marker-block" transform="rotate(180 2.5 2.5) scale(1,1)" stroke-width="1.0000" fill="blue" stroke="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></use></marker><marker id="raphael-marker-endblock55-objd2rnh" markerHeight="5" markerWidth="5" orient="auto" refX="2.5" refY="2.5" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"><use xlink:href="#raphael-marker-block" transform="rotate(180 2.5 2.5) scale(1,1)" stroke-width="1.0000" fill="blue" stroke="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></use></marker><marker id="raphael-marker-endblock55-objq8nng" markerHeight="5" markerWidth="5" orient="auto" refX="2.5" refY="2.5" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"><use xlink:href="#raphael-marker-block" transform="rotate(180 2.5 2.5) scale(1,1)" stroke-width="1.0000" fill="#000" stroke="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></use></marker><marker id="raphael-marker-endblock55-objft4g3" markerHeight="5" markerWidth="5" orient="auto" refX="2.5" refY="2.5" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"><use xlink:href="#raphael-marker-block" transform="rotate(180 2.5 2.5) scale(1,1)" stroke-width="1.0000" fill="#000" stroke="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></use></marker><marker id="raphael-marker-endblock55-objrk3ad" markerHeight="5" markerWidth="5" orient="auto" refX="2.5" refY="2.5" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"><use xlink:href="#raphael-marker-block" transform="rotate(180 2.5 2.5) scale(1,1)" stroke-width="1.0000" fill="#000" stroke="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></use></marker><marker id="raphael-marker-endblock55-objx0ek0" markerHeight="5" markerWidth="5" orient="auto" refX="2.5" refY="2.5" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"><use xlink:href="#raphael-marker-block" transform="rotate(180 2.5 2.5) scale(1,1)" stroke-width="1.0000" fill="#000" stroke="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></use></marker><marker id="raphael-marker-endblock55-objydqp9" markerHeight="5" markerWidth="5" orient="auto" refX="2.5" refY="2.5" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"><use xlink:href="#raphael-marker-block" transform="rotate(180 2.5 2.5) scale(1,1)" stroke-width="1.0000" fill="#000" stroke="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></use></marker><marker id="raphael-marker-endblock55-objvmtec" markerHeight="5" markerWidth="5" orient="auto" refX="2.5" refY="2.5" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"><use xlink:href="#raphael-marker-block" transform="rotate(180 2.5 2.5) scale(1,1)" stroke-width="1.0000" fill="#000" stroke="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></use></marker><marker id="raphael-marker-endblock55-obj2guxp" markerHeight="5" markerWidth="5" orient="auto" refX="2.5" refY="2.5" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"><use xlink:href="#raphael-marker-block" transform="rotate(180 2.5 2.5) scale(1,1)" stroke-width="1.0000" fill="#000" stroke="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></use></marker><marker id="raphael-marker-endblock55-objz4wle" markerHeight="5" markerWidth="5" orient="auto" refX="2.5" refY="2.5" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"><use xlink:href="#raphael-marker-block" transform="rotate(180 2.5 2.5) scale(1,1)" stroke-width="1.0000" fill="#000" stroke="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></use></marker></defs><rect x="10" y="20" width="52.5390625" height="39" rx="0" ry="0" fill="none" stroke="#000000" stroke-width="2" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></rect><rect x="20" y="30" width="32.5390625" height="19" rx="0" ry="0" fill="#fafafa" stroke="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></rect><text x="36.26953125" y="39.5" text-anchor="middle" font-family="Roboto" font-size="16px" stroke="none" fill="#000000" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); text-anchor: middle; font-family: Roboto; font-size: 16px;"><tspan dy="5.5" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">User</tspan></text><rect x="10" y="887.6000022888184" width="52.5390625" height="39" rx="0" ry="0" fill="none" stroke="#000000" stroke-width="2" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></rect><rect x="20" y="897.5999755859375" width="32.5390625" height="19" rx="0" ry="0" fill="#fafafa" stroke="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></rect><text x="36.26953125" y="907.1000022888184" text-anchor="middle" font-family="Roboto" font-size="16px" stroke="none" fill="#000000" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); text-anchor: middle; font-family: Roboto; font-size: 16px;"><tspan dy="5.500026702880859" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">User</tspan></text><path fill="none" stroke="#000000" d="M36.26953125,59L36.26953125,887.6000022888184" stroke-width="2" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path><rect x="116.11328125" y="20" width="133.0625" height="39" rx="0" ry="0" fill="none" stroke="#000000" stroke-width="2" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></rect><rect x="126.11328125" y="30" width="113.0625" height="19" rx="0" ry="0" fill="#fafafa" stroke="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></rect><text x="182.64453125" y="39.5" text-anchor="middle" font-family="Roboto" font-size="16px" stroke="none" fill="#000000" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); text-anchor: middle; font-family: Roboto; font-size: 16px;"><tspan dy="5.5" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">Shopping Agent</tspan></text><rect x="116.11328125" y="887.6000022888184" width="133.0625" height="39" rx="0" ry="0" fill="none" stroke="#000000" stroke-width="2" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></rect><rect x="126.11328125" y="897.5999755859375" width="113.0625" height="19" rx="0" ry="0" fill="#fafafa" stroke="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></rect><text x="182.64453125" y="907.1000022888184" text-anchor="middle" font-family="Roboto" font-size="16px" stroke="none" fill="#000000" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); text-anchor: middle; font-family: Roboto; font-size: 16px;"><tspan dy="5.500026702880859" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">Shopping Agent</tspan></text><path fill="none" stroke="#000000" d="M182.64453125,59L182.64453125,887.6000022888184" stroke-width="2" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path><rect x="473.4765625" y="20" width="136.7578125" height="39" rx="0" ry="0" fill="none" stroke="#000000" stroke-width="2" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></rect><rect x="483.4765625" y="30" width="116.7578125" height="19" rx="0" ry="0" fill="#fafafa" stroke="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></rect><text x="541.85546875" y="39.5" text-anchor="middle" font-family="Roboto" font-size="16px" stroke="none" fill="#000000" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); text-anchor: middle; font-family: Roboto; font-size: 16px;"><tspan dy="5.5" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">Merchant Server</tspan></text><rect x="473.4765625" y="887.6000022888184" width="136.7578125" height="39" rx="0" ry="0" fill="none" stroke="#000000" stroke-width="2" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></rect><rect x="483.4765625" y="897.5999755859375" width="116.7578125" height="19" rx="0" ry="0" fill="#fafafa" stroke="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></rect><text x="541.85546875" y="907.1000022888184" text-anchor="middle" font-family="Roboto" font-size="16px" stroke="none" fill="#000000" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); text-anchor: middle; font-family: Roboto; font-size: 16px;"><tspan dy="5.500026702880859" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">Merchant Server</tspan></text><path fill="none" stroke="#000000" d="M541.85546875,59L541.85546875,887.6000022888184" stroke-width="2" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path><rect x="630.234375" y="20" width="155.140625" height="39" rx="0" ry="0" fill="none" stroke="#000000" stroke-width="2" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></rect><rect x="640.234375" y="30" width="135.140625" height="19" rx="0" ry="0" fill="#fafafa" stroke="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></rect><text x="707.8046875" y="39.5" text-anchor="middle" font-family="Roboto" font-size="16px" stroke="none" fill="#000000" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); text-anchor: middle; font-family: Roboto; font-size: 16px;"><tspan dy="5.5" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">Credential Provider</tspan></text><rect x="630.234375" y="887.6000022888184" width="155.140625" height="39" rx="0" ry="0" fill="none" stroke="#000000" stroke-width="2" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></rect><rect x="640.234375" y="897.5999755859375" width="135.140625" height="19" rx="0" ry="0" fill="#fafafa" stroke="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></rect><text x="707.8046875" y="907.1000022888184" text-anchor="middle" font-family="Roboto" font-size="16px" stroke="none" fill="#000000" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); text-anchor: middle; font-family: Roboto; font-size: 16px;"><tspan dy="5.500026702880859" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">Credential Provider</tspan></text><path fill="none" stroke="#000000" d="M707.8046875,59L707.8046875,887.6000022888184" stroke-width="2" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path><rect x="997.3203125" y="20" width="49.6875" height="39" rx="0" ry="0" fill="#ffffff" stroke="#0000ff" stroke-width="2" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></rect><rect x="1007.3203125" y="30" width="29.6875" height="19" rx="0" ry="0" fill="#ffffff" stroke="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></rect><text x="1022.1640625" y="39.5" text-anchor="middle" font-family="Roboto" font-size="16px" stroke="none" fill="#000000" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); text-anchor: middle; font-family: Roboto; font-size: 16px;"><tspan dy="5.5" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">PSP</tspan></text><rect x="997.3203125" y="887.6000022888184" width="49.6875" height="39" rx="0" ry="0" fill="#ffffff" stroke="#0000ff" stroke-width="2" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></rect><rect x="1007.3203125" y="897.5999755859375" width="29.6875" height="19" rx="0" ry="0" fill="#ffffff" stroke="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></rect><text x="1022.1640625" y="907.1000022888184" text-anchor="middle" font-family="Roboto" font-size="16px" stroke="none" fill="#000000" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); text-anchor: middle; font-family: Roboto; font-size: 16px;"><tspan dy="5.500026702880859" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">PSP</tspan></text><path fill="none" stroke="#000000" d="M1022.1640625,59L1022.1640625,887.6000022888184" stroke-width="2" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path><rect x="26.26953125" y="79" width="525.5859375" height="29" rx="0" ry="0" fill="#808080" stroke="#808080" stroke-width="2" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></rect><rect x="152.8125" y="84" width="272.5" height="19" rx="0" ry="0" fill="#808080" stroke="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></rect><text x="289.0625" y="93.5" text-anchor="middle" font-family="Roboto" font-size="16px" stroke="none" fill="#ffffff" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); text-anchor: middle; font-family: Roboto; font-size: 16px;"><tspan dy="5.5" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">Items added to cart, ready to checkout</tspan></text><rect x="304.37890625" y="123.5" width="115.7421875" height="19" rx="0" ry="0" fill="#fafafa" stroke="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></rect><text x="362.25" y="133" text-anchor="middle" font-family="Roboto" font-size="16px" stroke="none" fill="#000000" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); text-anchor: middle; font-family: Roboto; font-size: 16px;"><tspan dy="5.5" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">POST /checkout</tspan></text><path fill="none" stroke="#000000" d="M182.64453125,147C182.64453125,147,493.44352733157575,147,536.8461215109364,147" stroke-width="2" marker-end="url(#raphael-marker-endblock55-obj25ik0)" stroke-dasharray="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path><rect x="304.26953125" y="162.5" width="115.9609375" height="19" rx="0" ry="0" fill="#fafafa" stroke="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></rect><text x="362.25" y="172" text-anchor="middle" font-family="Roboto" font-size="16px" stroke="none" fill="#000000" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); text-anchor: middle; font-family: Roboto; font-size: 16px;"><tspan dy="5.5" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">Return checkout</tspan></text><path fill="none" stroke="#000000" d="M541.85546875,186C541.85546875,186,231.05647266842425,186,187.65387848906357,186" stroke-width="2" marker-end="url(#raphael-marker-endblock55-objajfk8)" stroke-dasharray="6,2" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path><rect x="328.439453125" y="201.5" width="233.5703125" height="19" rx="0" ry="0" fill="#fafafa" stroke="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></rect><text x="445.224609375" y="211" text-anchor="middle" font-family="Roboto" font-size="16px" stroke="none" fill="#000000" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); text-anchor: middle; font-family: Roboto; font-size: 16px;"><tspan dy="5.5" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">Get paymentMethods (checkout)</tspan></text><path fill="none" stroke="#000000" d="M182.64453125,225C182.64453125,225,649.1524139377871,225,702.7962647058407,225" stroke-width="2" marker-end="url(#raphael-marker-endblock55-obj2bvpl)" stroke-dasharray="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path><rect x="732.8046875" y="245" width="274.359375" height="19" rx="0" ry="0" fill="#fafafa" stroke="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></rect><text x="869.984375" y="254.5" text-anchor="middle" font-family="Roboto" font-size="16px" stroke="none" fill="#000000" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); text-anchor: middle; font-family: Roboto; font-size: 16px;"><tspan dy="5.5" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">Match with available paymentMethods</tspan></text><path fill="none" stroke="#000000" d="M707.8046875,240L727.8046875,240" stroke-width="2" stroke-dasharray="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path><path fill="none" stroke="#000000" d="M727.8046875,240L727.8046875,274" stroke-width="2" stroke-dasharray="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path><path fill="none" stroke="#000000" d="M727.8046875,274C727.8046875,274,718.7238006591797,274,712.7999408841133,274" stroke-width="2" stroke-dasharray="none" marker-end="url(#raphael-marker-endblock55-obja6o4z)" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path><rect x="357.595703125" y="269.8999938964844" width="175.2578125" height="38.20001220703125" rx="0" ry="0" fill="#fafafa" stroke="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></rect><text x="445.224609375" y="289" text-anchor="middle" font-family="Roboto" font-size="16px" stroke="none" fill="#000000" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); text-anchor: middle; font-family: Roboto; font-size: 16px;"><tspan dy="-4.100006103515625" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">Return paymentMethods</tspan><tspan dy="19.2" x="445.224609375" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">(Just the metadata)</tspan></text><path fill="none" stroke="#000000" d="M707.8046875,322.20000076293945C707.8046875,322.20000076293945,241.29680481221294,322.20000076293945,187.6529540441593,322.20000076293945" stroke-width="2" marker-end="url(#raphael-marker-endblock55-objowe6l)" stroke-dasharray="6,2" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path><rect x="63.46484375" y="337.70001220703125" width="91.984375" height="19" rx="0" ry="0" fill="#fafafa" stroke="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></rect><text x="109.45703125" y="347.20000076293945" text-anchor="middle" font-family="Roboto" font-size="16px" stroke="none" fill="#000000" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); text-anchor: middle; font-family: Roboto; font-size: 16px;"><tspan dy="5.499988555908203" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">Select a card</tspan></text><path fill="none" stroke="#000000" d="M36.26953125,361.20000076293945C36.26953125,361.20000076293945,151.994452804327,361.20000076293945,177.64831725045224,361.20000076293945" stroke-width="2" marker-end="url(#raphael-marker-endblock55-obj29cey)" stroke-dasharray="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path><rect x="306.099609375" y="376.70001220703125" width="278.25" height="19" rx="0" ry="0" fill="#fafafa" stroke="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></rect><text x="445.224609375" y="386.20000076293945" text-anchor="middle" font-family="Roboto" font-size="16px" stroke="none" fill="#000000" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); text-anchor: middle; font-family: Roboto; font-size: 16px;"><tspan dy="5.499988555908203" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">Get paymentToken (paymentMethodId)</tspan></text><path fill="none" stroke="#000000" d="M182.64453125,400.20000076293945C182.64453125,400.20000076293945,649.1524139377871,400.20000076293945,702.7962647058407,400.20000076293945" stroke-width="2" marker-end="url(#raphael-marker-endblock55-objqu1nh)" stroke-dasharray="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path><rect x="720.51953125" y="415.70001220703125" width="288.9296875" height="19" rx="0" ry="0" fill="#ffffff" stroke="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></rect><text x="864.984375" y="425.20000076293945" text-anchor="middle" font-family="Roboto" font-size="16px" stroke="none" fill="#000000" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); text-anchor: middle; font-family: Roboto; font-size: 16px;"><tspan dy="5.499988555908203" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">Retrieve paymentToken (paymentObject)</tspan></text><path fill="none" stroke="#0000ff" d="M707.8046875,439.20000076293945C707.8046875,439.20000076293945,976.948835041374,439.20000076293945,1017.16275552363,439.20000076293945" stroke-width="2" marker-end="url(#raphael-marker-endblock55-obj5jsqp)" stroke-dasharray="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path><rect x="1047.1640625" y="459.1999816894531" width="304.5546875" height="38.20001220703125" rx="0" ry="0" fill="#ffffff" stroke="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></rect><text x="1199.44140625" y="478.3000011444092" text-anchor="middle" font-family="Roboto" font-size="16px" stroke="none" fill="#000000" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); text-anchor: middle; font-family: Roboto; font-size: 16px;"><tspan dy="-4.099992752075195" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">Generate paymentToken JWT</tspan><tspan dy="19.2" x="1199.44140625" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">(Just a reference, no sensitive information)</tspan></text><path fill="none" stroke="#0000ff" d="M1022.1640625,454.20000076293945L1042.1640625,454.20000076293945" stroke-width="2" stroke-dasharray="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path><path fill="none" stroke="#0000ff" d="M1042.1640625,454.20000076293945L1042.1640625,507.4000015258789" stroke-width="2" stroke-dasharray="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path><path fill="none" stroke="#0000ff" d="M1042.1640625,507.4000015258789C1042.1640625,507.4000015258789,1033.0831756591797,507.4000015258789,1027.1593158841133,507.4000015258789" stroke-width="2" stroke-dasharray="none" marker-end="url(#raphael-marker-endblock55-objx38xa)" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path><rect x="787.22265625" y="512.9000244140625" width="155.5234375" height="19" rx="0" ry="0" fill="#ffffff" stroke="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></rect><text x="864.984375" y="522.4000015258789" text-anchor="middle" font-family="Roboto" font-size="16px" stroke="none" fill="#000000" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); text-anchor: middle; font-family: Roboto; font-size: 16px;"><tspan dy="5.499977111816406" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">Return paymentToken</tspan></text><path fill="none" stroke="#0000ff" d="M1022.1640625,536.4000015258789C1022.1640625,536.4000015258789,753.019914958626,536.4000015258789,712.80599447637,536.4000015258789" stroke-width="2" marker-end="url(#raphael-marker-endblock55-objd2rnh)" stroke-dasharray="6,2" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path><rect x="367.462890625" y="551.9000244140625" width="155.5234375" height="19" rx="0" ry="0" fill="#fafafa" stroke="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></rect><text x="445.224609375" y="561.4000015258789" text-anchor="middle" font-family="Roboto" font-size="16px" stroke="none" fill="#000000" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); text-anchor: middle; font-family: Roboto; font-size: 16px;"><tspan dy="5.499977111816406" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">Return paymentToken</tspan></text><path fill="none" stroke="#000000" d="M707.8046875,575.4000015258789C707.8046875,575.4000015258789,241.29680481221294,575.4000015258789,187.6529540441593,575.4000015258789" stroke-width="2" marker-end="url(#raphael-marker-endblock55-objq8nng)" stroke-dasharray="6,2" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path><rect x="46.26953125" y="590.9000244140625" width="126.375" height="19" rx="0" ry="0" fill="#fafafa" stroke="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></rect><text x="109.45703125" y="600.4000015258789" text-anchor="middle" font-family="Roboto" font-size="16px" stroke="none" fill="#000000" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); text-anchor: middle; font-family: Roboto; font-size: 16px;"><tspan dy="5.499977111816406" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">Confirm purchase</tspan></text><path fill="none" stroke="#000000" d="M36.26953125,614.4000015258789C36.26953125,614.4000015258789,151.994452804327,614.4000015258789,177.64831725045224,614.4000015258789" stroke-width="2" marker-end="url(#raphael-marker-endblock55-objft4g3)" stroke-dasharray="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path><rect x="192.64453125" y="629.9000244140625" width="339.2109375" height="19" rx="0" ry="0" fill="#fafafa" stroke="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></rect><text x="362.25" y="639.4000015258789" text-anchor="middle" font-family="Roboto" font-size="16px" stroke="none" fill="#000000" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); text-anchor: middle; font-family: Roboto; font-size: 16px;"><tspan dy="5.499977111816406" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">POST /checkout/{id}/complete (paymentToken)</tspan></text><path fill="none" stroke="#000000" d="M182.64453125,653.4000015258789C182.64453125,653.4000015258789,493.44352733157575,653.4000015258789,536.8461215109364,653.4000015258789" stroke-width="2" marker-end="url(#raphael-marker-endblock55-objrk3ad)" stroke-dasharray="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path><rect x="660.275390625" y="668.9000244140625" width="243.46875" height="19" rx="0" ry="0" fill="#fafafa" stroke="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></rect><text x="782.009765625" y="678.4000015258789" text-anchor="middle" font-family="Roboto" font-size="16px" stroke="none" fill="#000000" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); text-anchor: middle; font-family: Roboto; font-size: 16px;"><tspan dy="5.499977111816406" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">Process payment (paymentToken)</tspan></text><path fill="none" stroke="#000000" d="M541.85546875,692.4000015258789C541.85546875,692.4000015258789,966.093021801149,692.4000015258789,1017.1548171268855,692.4000015258789" stroke-width="2" marker-end="url(#raphael-marker-endblock55-objx0ek0)" stroke-dasharray="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path><rect x="1047.1640625" y="712.4000244140625" width="164.390625" height="38.199951171875" rx="0" ry="0" fill="#fafafa" stroke="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></rect><text x="1129.359375" y="731.5000019073486" text-anchor="middle" font-family="Roboto" font-size="16px" stroke="none" fill="#000000" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); text-anchor: middle; font-family: Roboto; font-size: 16px;"><tspan dy="-4.100004196166992" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">Lookup paymentObject</tspan><tspan dy="19.2" x="1129.359375" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">(paymentToken)</tspan></text><path fill="none" stroke="#000000" d="M1022.1640625,707.4000015258789L1042.1640625,707.4000015258789" stroke-width="2" stroke-dasharray="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path><path fill="none" stroke="#000000" d="M1042.1640625,707.4000015258789L1042.1640625,760.6000022888184" stroke-width="2" stroke-dasharray="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path><path fill="none" stroke="#000000" d="M1042.1640625,760.6000022888184C1042.1640625,760.6000022888184,1033.0831756591797,760.6000022888184,1027.1593158841133,760.6000022888184" stroke-width="2" stroke-dasharray="none" marker-end="url(#raphael-marker-endblock55-objydqp9)" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path><rect x="1047.1640625" y="770.5999755859375" width="149.4453125" height="19" rx="0" ry="0" fill="#fafafa" stroke="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></rect><text x="1121.88671875" y="780.1000022888184" text-anchor="middle" font-family="Roboto" font-size="16px" stroke="none" fill="#000000" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); text-anchor: middle; font-family: Roboto; font-size: 16px;"><tspan dy="5.500026702880859" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">Authorize with Issuer</tspan></text><path fill="none" stroke="#000000" d="M1022.1640625,765.6000022888184L1042.1640625,765.6000022888184" stroke-width="2" stroke-dasharray="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path><path fill="none" stroke="#000000" d="M1042.1640625,765.6000022888184L1042.1640625,799.6000022888184" stroke-width="2" stroke-dasharray="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path><path fill="none" stroke="#000000" d="M1042.1640625,799.6000022888184C1042.1640625,799.6000022888184,1033.0831756591797,799.6000022888184,1027.1593158841133,799.6000022888184" stroke-width="2" stroke-dasharray="none" marker-end="url(#raphael-marker-endblock55-objvmtec)" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path><rect x="727.283203125" y="805.0999755859375" width="109.453125" height="19" rx="0" ry="0" fill="#fafafa" stroke="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></rect><text x="782.009765625" y="814.6000022888184" text-anchor="middle" font-family="Roboto" font-size="16px" stroke="none" fill="#000000" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); text-anchor: middle; font-family: Roboto; font-size: 16px;"><tspan dy="5.500026702880859" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">Return success</tspan></text><path fill="none" stroke="#000000" d="M1022.1640625,828.6000022888184C1022.1640625,828.6000022888184,597.926509448851,828.6000022888184,546.8647141231145,828.6000022888184" stroke-width="2" marker-end="url(#raphael-marker-endblock55-obj2guxp)" stroke-dasharray="6,2" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path><rect x="727.6015625" y="844.0999755859375" width="274.765625" height="19" rx="0" ry="0" fill="#fafafa" stroke="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></rect><text x="864.984375" y="853.6000022888184" text-anchor="middle" font-family="Roboto" font-size="16px" stroke="none" fill="#000000" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); text-anchor: middle; font-family: Roboto; font-size: 16px;"><tspan dy="5.500026702880859" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">Send paymentReceipt (paymentToken)</tspan></text><path fill="none" stroke="#000000" d="M1022.1640625,867.6000022888184C1022.1640625,867.6000022888184,753.019914958626,867.6000022888184,712.80599447637,867.6000022888184" stroke-width="2" marker-end="url(#raphael-marker-endblock55-objz4wle)" stroke-dasharray="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path></svg>